/**
 * Licensed under the Apache License, Version 2.0
 * http://www.apache.org/licenses/LICENSE-2.0
 * Copyright 2025 Manoel Fernandes
 */
class u{#a=!0;#e=[];#f=10;silent(r){typeof r!="boolean"&&this.#i("silent","silent-boolean"),this.#a=r}isSilent(){return this.#a}#u(r,i,e,t){let s,a={"input-check":100,"invalid-check":101,"invalid-option":102,"array-option":103,"object-range":105,"from-missing":106,"to-missing":107,"number-from":108,"number-to":109,"silent-boolean":110,"min-value":111,"check-fail":200,"option-fail":201,"range-fail":202,"range-type":203};return s={100:`Error: (${r}) Missing data type.`,101:`Error: (${r}) Invalid data type. See the docs.`,102:`Error: (${r}) Invalid value. See the docs.`,103:`Error: (${r}) Expected an array.`,105:`Error: (${r}) Expected an object with "from" and "to".`,106:`Error: (${r}) Key "from" is missing.`,107:`Error: (${r}) Key "to" is missing.`,108:`Error: (${r}) "from" must be a number.`,109:`Error: (${r}) "to" must be a number.`,110:`Error: (${r}) Expected a boolean.`,111:`Error: (${r}) Must be a number greater than or equal to 1.`,200:`Check failed: (${r}) Type mismatch. Expected "${e}", got "${t}".`,201:`Check failed: (${r}) Value "${e}" not found.`,202:`Check failed: (${r}) Value "${e}" is out of range.`,203:`Check failed: (${r}) Only "number" or "bigint" allowed.`}[a[i]],s}#n(r,i,e,t){let s,a;const f=this.#c(t);if(f!==!1?s=f:s=(typeof t).charAt(0).toUpperCase()+(typeof t).slice(1),a=this.#u(r,i,e,s),a=`${a} - ${new Date().toISOString()}`,this.#e.length>=this.#f)for(let c=this.#e.length;c>=this.#f;c--)this.#e.shift();this.#e.push(a)}#r(r,i,e,t){if(this.#n(r,i,e,t),this.#a===!0)return!1;this.#h(r,i,e,t)}#i(r,i,e,t){this.#n(r,i,e,t),this.#h(r,i,e,t)}#h(r,i,e,t){let s;const a=this.#c(t);throw a!==!1?s=a:s=(typeof t).charAt(0).toUpperCase()+(typeof t).slice(1),new Error(this.#u(r,i,e,s))}#o(r){return typeof r!="number"||!Number.isFinite(r)?this.#r("check","check-fail","Number",r):!0}#l(r){return typeof r!="string"?this.#r("check","check-fail","String",r):!0}#k(r){return typeof r!="boolean"?this.#r("check","check-fail","Boolean",r):!0}#y(r){return typeof r!="bigint"?this.#r("check","check-fail","BigInt",r):!0}#p(r){return typeof r<"u"?this.#r("check","check-fail","Undefined",r):!0}#b(r){return r!==null?this.#r("check","check-fail","Null",r):!0}#g(r){return typeof r!="symbol"?this.#r("check","check-fail","Symbol",r):!0}#d(r){return Array.isArray(r)?!0:this.#r("check","check-fail","Array",r)}#m(r){return typeof r!="object"||r===null||Array.isArray(r)?this.#r("check","check-fail","Object",r):!0}#E(r){if(typeof r=="function"&&/class\s/.test(Function.prototype.toString.call(r)))return this.#r("check","check-fail","Function",r);if(typeof r!="function"){if(typeof r=="object"){if(!r.constructor)return this.#r("check","check-fail","Function",r);if(/function Object()/.test(r.constructor.toString()))return this.#r("check","check-fail","Function",r);if(/class\s/.test(r.constructor.toString())===!0)return this.#r("check","check-fail","Function",r)}return this.#r("check","check-fail","Function",r)}return!0}#S(r){if(typeof r=="function"&&/class\s/.test(Function.prototype.toString.call(r)))return!0;if(typeof r=="object"){if(!r.constructor)return this.#r("check","check-fail","Class",r);if(/class\s/.test(r.constructor.toString()))return!0}return this.#r("check","check-fail","Class",r)}#v(r){return r!==1/0?this.#r("check","check-fail","Infinity",r):!0}#I(r){return r!==-1/0?this.#r("check","check-fail","-Infinity",r):!0}#N(r){return isNaN(r)?!0:this.#r("check","check-fail","NaN",r)}#$(r){if(r instanceof Date)try{if(String(r.getTime()).slice(0,10)===String(new Date().getTime()).slice(0,10))return!0}catch{}return this.#r("check","check-fail","Date",r)}#j(r){if(r instanceof RegExp)try{if(Array.isArray("validate".match(r)))return!0}catch{}return this.#r("check","check-fail","RegExp",r)}#F(r){if(r instanceof Map)try{if(r.set("test",1),r.get("test")===1)return!0}catch{}return this.#r("check","check-fail","Map",r)}#R(r){if(r instanceof Set)try{if(r.add(1),r.has(1))return!0}catch{}return this.#r("check","check-fail","Set",r)}#w(r){if(r instanceof WeakMap)try{let i={};if(r.set(i,1),r.get(i)===1)return!0}catch{}return this.#r("check","check-fail","WeakMap",r)}#O(r){try{let i={};if(r.add(i),r.has(i)===!0)return!0}catch{}return this.#r("check","check-fail","WeakSet",r)}#c(r){if(Array.isArray(r))return"Array";if(r===null)return"Null";if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(typeof r=="number"&&isNaN(r))return"NaN";if(typeof r=="bigint")return"BigInt";if(r instanceof Date)try{if(r.getTime()-new Date().getTime()<=20)return"Date"}catch{}if(r instanceof RegExp)try{if(Array.isArray("validate".match(r)))return"RegExp"}catch{}if(r instanceof Map)try{if(r.set("test",1),r.get("test")===1)return"Map"}catch{}if(r instanceof WeakMap)try{let i={};if(r.set(i,1),r.get(i)===1)return"WeakMap"}catch{}if(r instanceof Set)try{if(r.add(1),r.has(1))return"Set"}catch{}if(r instanceof WeakSet)try{let i={};if(r.add(i),r.has(i)===!0)return"WeakSet"}catch{}if(r instanceof Promise)return"Promise";if(r instanceof Error&&/ Error\(/.test(r.constructor.toString()))return"Error";if(r instanceof Error&&/ TypeError\(/.test(r.constructor.toString()))return"TypeError";if(r instanceof Error&&/ URIError\(/.test(r.constructor.toString()))return"URIError";if(r instanceof Error&&/ SyntaxError\(/.test(r.constructor.toString()))return"SyntaxError";if(r instanceof Error&&/ ReferenceError\(/.test(r.constructor.toString()))return"ReferenceError";if(r instanceof Error&&/ RangeError\(/.test(r.constructor.toString()))return"RangeError";if(r instanceof Error&&/ EvalError\(/.test(r.constructor.toString()))return"EvalError";if(typeof r=="function")return/class\s/.test(Function.prototype.toString.call(r))?"Class":/^\(/.test(r.toString())||/function Object()/.test(r.constructor.toString())?"Function [arrow]":/function AsyncFunction()/.test(r.constructor.toString())&&/^async ?\(/.test(Function.prototype.toString.call(r))?"Function [async arrow]":/function AsyncFunction()/.test(r.constructor.toString())?"Function [async]":r.prototype?"Function":"Function [arrow]";if(typeof r=="object"){if(!r.constructor)return"Object [null]";if(/^function Object()/.test(r.constructor.toString()))return"Object";if(/class\s/.test(r.constructor.toString()))return`Class [instance of ${this.#t(r,"class")}]`;if(/function\s/.test(Function.prototype.toString(r))){let i=["Date","RegExp","Map","Set","WeakMap","WeakSet"],e=this.#t(r,"function");return i.includes(e)?`Fake [${this.#t(r,"function")}]`:`Function [instance of ${this.#t(r,"function")}]`}}return!1}#t(r,i){let e=r.constructor.toString();const t=e.indexOf(" ");let s;return i==="class"&&(s=e.indexOf("{")),i==="function"&&(s=e.indexOf("(")),e.slice(t,s).trim()}check(r,i){arguments.length<2&&this.#i("check","input-check");let e;const t=i.toLowerCase();switch(["number","string","boolean","bigint","undefined","null","symbol","array","object","infinity","-infinity","class","function","nan","date","regexp","map","set","weakmap","weakset"].includes(t)||this.#i("check","invalid-check"),t){case"number":e=this.#o(r);break;case"string":e=this.#l(r);break;case"boolean":e=this.#k(r);break;case"bigint":e=this.#y(r);break;case"undefined":e=this.#p(r);break;case"null":e=this.#b(r);break;case"symbol":e=this.#g(r);break;case"array":e=this.#d(r);break;case"object":e=this.#m(r);break;case"function":e=this.#E(r);break;case"class":e=this.#S(r);break;case"infinity":e=this.#v(r);break;case"-infinity":e=this.#I(r);break;case"nan":e=this.#N(r);break;case"date":e=this.#$(r);break;case"regexp":e=this.#j(r);break;case"map":e=this.#F(r);break;case"set":e=this.#R(r);break;case"weakmap":e=this.#w(r);break;case"weakset":e=this.#O(r);break}return e}checkOptions(r,i){const e=["string","number","bigint","boolean","Infinity","-Infinity"];return!e.includes(typeof r)&&!e.includes(r)&&this.#i("checkOptions","invalid-option"),typeof r=="number"&&isNaN(r)&&this.#i("checkOptions","invalid-option"),Array.isArray(i)||this.#i("checkOptions","array-option"),i.includes(r)?!0:this.#r("checkOptions","option-fail",r)}#s(r){return!!(typeof r!="bigint"&&typeof r!="number"||typeof r=="number"&&isNaN(r))}checkRange(r,i){return typeof i!="object"&&this.#i("checkRange","object-range"),Object.keys(i).includes("from")||this.#i("checkRange","from-missing"),Object.keys(i).includes("to")||this.#i("checkRange","to-missing"),this.#s(i.from)&&this.#i("checkRange","number-from"),this.#s(i.to)&&this.#i("checkRange","number-to"),this.#s(r)?this.#r("checkRange","range-type"):r<i.from||r>i.to?this.#r("checkRange","range-fail",r):!0}getLastError(){return this.#e[this.#e.length-1]}maxErrorSize(r){this.#s(r)&&this.#i("maxErrorSize","min-value"),r<1&&this.#i("maxErrorSize","min-value"),this.#f=r}getErrors(){return this.#e}getType(r){let i,e=this.#c(r);return e!==!1?i=e:i=typeof r,i=i.toLowerCase(),i}}const n=new u;export{u as Validate};export default n;
